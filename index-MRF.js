


const datos_MRF = [
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'austria',
        time_period: 2020,
        obs_value: -6.6,
        growth_rate_2030: 30357,
        growth_rate_2040: 34360
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'austria',
        time_period: 2021,
        obs_value: 4.2,
        growth_rate_2030: 34832,
        growth_rate_2040: 39426
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'austria',
        time_period: 2022,
        obs_value: 4.8,
        growth_rate_2030: 51398,
        growth_rate_2040: 58177
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'belgium',
        time_period: 2020,
        obs_value: -5.3,
        growth_rate_2030: 71573,
        growth_rate_2040: 81533
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'belgium',
        time_period: 2021,
        obs_value: 6.9,
        growth_rate_2030: 44930,
        growth_rate_2040: 51183
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'belgium',
        time_period: 2022,
        obs_value: 3.0,
        growth_rate_2030: 32478,
        growth_rate_2040: 36998
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'czech_republic',
        time_period: 2020,
        obs_value: -5.5,
        growth_rate_2030: 42058,
        growth_rate_2040: 49646
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'czech_republic',
        time_period: 2021,
        obs_value: 3.6,
        growth_rate_2030: 15609,
        growth_rate_2040: 18424
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'czech_republic',
        time_period: 2022,
        obs_value: 2.4,
        growth_rate_2030: 17403,
        growth_rate_2040: 20542
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'denmark',
        time_period: 2020,
        obs_value: -2.4,
        growth_rate_2030: 66538,
        growth_rate_2040: 75680
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'denmark',
        time_period: 2021,
        obs_value: 6.8,
        growth_rate_2030: 38794,
        growth_rate_2040: 44123
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'denmark',
        time_period: 2022,
        obs_value: 2.7,
        growth_rate_2030: 49658,
        growth_rate_2040: 56480
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'spain',
        time_period: 2021,
        obs_value: 6.4,
        growth_rate_2030: 33894,
        growth_rate_2040: 37961
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'spain',
        time_period: 2022,
        obs_value: 5.8,
        growth_rate_2030: 36109,
        growth_rate_2040: 40443
    },
    {
        dataflow: 'estat:teco0115(1.0)',
        last_update: '02/02/24 23:00:00',
        frequency: 'a',
        unit: 'clv_pch_pre',
        na_item: 'b1gq',
        geo: 'spain',
        time_period: 2023,
        obs_value: 2.5,
        growth_rate_2030: 32608,
        growth_rate_2040: 36522
    }
]







































/**

let datosEntrada = `dataflow,last_update,frequency,unit,na_item,geo,time_period,obs_value,growth_rate_2030,growth_rate_2040
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,austria,2020,-6.6,30357,34360,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,austria,2021,4.2,34832,39426,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,austria,2022,4.8,51398,58177,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,belgium,2020,-5.3,71573,81533,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,belgium,2021,6.9,44930,51183,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,belgium,2022,3.0,32478,36998,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,czech_republic,2020,-5.5,42058,49646,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,czech_republic,2021,3.6,15609,18424,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,czech_republic,2022,2.4,17403,20542,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,denmark,2020,-2.4,66538,75680,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,denmark,2021,6.8,38794,44123,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,denmark,2022,2.7,49658,56480,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,spain,2021,6.4,33894,37961,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,spain,2022,5.8,36109,40443,
estat:teco0115(1.0),02/02/24 23:00:00,a,clv_pch_pre,b1gq,spain,2023,2.5,32608,36522`;


let lines = datosEntrada.split('\n');
let columnas = lines[0].split(',');
let csv = [];

 
for (let i = 1; i < lines.length; i++) {
    let elementos = lines[i].split(',');
    let mapa = new Map();
    for (let j = 0; j < columnas.length; j++) {
        mapa.set(columnas[j], elementos[j]);
    }
    csv.push(mapa);
    console.log(mapa)
}


function previsionPIBporGeo(csv) {
    let mediasPorPais = {};
    csv.forEach(function(mapa) {
        let geo = mapa.get('geo');
        let crecimiento = parseInt(mapa.get('growth_rate_2030'));
        if (!mediasPorPais[geo]) {
            mediasPorPais[geo] = {
                totalCrecimiento: 0,
                contador: 0
            };
        }
        mediasPorPais[geo].totalCrecimiento += crecimiento;
        mediasPorPais[geo].contador++;
    });

    for (let pais in mediasPorPais) {
        let media = mediasPorPais[pais].totalCrecimiento / mediasPorPais[pais].contador;
        mediasPorPais[pais].media = media;
        mediasPorPais[pais].mensaje = "La media de crecimiento para 2030 en " + pais + " es: " + media.toFixed(1) + " millones de euros";
    }
    return mediasPorPais;
}

let mediasCrecimientoPorPais = previsionPIBporGeo(csv);
for (let pais in mediasCrecimientoPorPais) {
    console.log(mediasCrecimientoPorPais[pais].mensaje);
} **/
