
// datos_TLR
const data= [
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Albania',
      time_period: 2017,
      obs_value: 6583,
      flights_passangers: 18336,
      cars_deaths: 1079
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Albania',
      time_period: 2021,
      obs_value: 7867,
      flights_passangers: 26258,
      cars_deaths: 976
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Austria',
      time_period: 1990,
      obs_value: 9400,
      flights_passangers: 25762,
      cars_deaths: 958
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Austria',
      time_period: 1991,
      obs_value: 9400,
      flights_passangers: 23582,
      cars_deaths: 956
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Austria',
      time_period: 1992,
      obs_value: 9900,
      flights_passangers: 24887,
      cars_deaths: 931
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'España',
      time_period: 2003,
      obs_value: 56000,
      flights_passangers: 24580,
      cars_deaths: 878
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'España',
      time_period: 2004,
      obs_value: 57000,
      flights_passangers: 23372,
      cars_deaths: 768
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'España',
      time_period: 2005,
      obs_value: 58200,
      flights_passangers: 24235,
      cars_deaths: 730
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'España',
      time_period: 2006,
      obs_value: 60400,
      flights_passangers: 26353,
      cars_deaths: 691
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'España',
      time_period: 2007,
      obs_value: 61000,
      flights_passangers: 22210,
      cars_deaths: 679
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bélgica',
      time_period: 2008,
      obs_value: 16000,
      flights_passangers: 19744,
      cars_deaths: 633
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bélgica',
      time_period: 2009,
      obs_value: 16100,
      flights_passangers: 17677,
      cars_deaths: 552
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bélgica',
      time_period: 2010,
      obs_value: 16200,
      flights_passangers: 17055,
      cars_deaths: 523
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bélgica',
      time_period: 2011,
      obs_value: 16100,
      flights_passangers: 14031,
      cars_deaths: 531
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bélgica',
      time_period: 2012,
      obs_value: 16000,
      flights_passangers: 13733,
      cars_deaths: 455
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bélgica',
      time_period: 2013,
      obs_value: 15800,
      flights_passangers: 13115,
      cars_deaths: 430
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bulgaria',
      time_period: 2012,
      obs_value: 23000,
      flights_passangers: 12675,
      cars_deaths: 479
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bulgaria',
      time_period: 2013,
      obs_value: 23300,
      flights_passangers: 11562,
      cars_deaths: 432
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bulgaria',
      time_period: 2014,
      obs_value: 23603,
      flights_passangers: 10777,
      cars_deaths: 414
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bulgaria',
      time_period: 2015,
      obs_value: 24010,
      flights_passangers: 10119,
      cars_deaths: 409
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bulgaria',
      time_period: 2016,
      obs_value: 23359,
      flights_passangers: 8537,
      cars_deaths: 416
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bulgaria',
      time_period: 2017,
      obs_value: 21020,
      flights_passangers: 7837,
      cars_deaths: 344
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bulgaria',
      time_period: 2018,
      obs_value: 20818,
      flights_passangers: 9246,
      cars_deaths: 362
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'BUS_TOT',
      unit: 'NR',
      geo: 'Bulgaria',
      time_period: 2019,
      obs_value: 20687,
      flights_passangers: 9026,
      cars_deaths: 370
    },
    {
      DATAFLOW: 'ESTAT:TRAN_R_VEHST(1.0)',
      last_update: '13/10/23 23:00:00',
      freq: 'A',
      vehicle: 'TRC',
      unit: 'NR',
      geo: 'Bélgica',
      time_period: 2014,
      obs_value: 44693,
      flights_passangers: 2532,
      cars_deaths: 1397
    }
  ]

  const datos_TLR = data.map((entry, index) => {
    // Creamos un nuevo objeto con todos los campos excepto DATAFLOW y last_update
    const { DATAFLOW, last_update, ...rest } = entry;
    // Agregamos un nuevo campo id al objeto
    return { id: index + 1, ...rest };
});
  module.exports = datos_TLR;


  function calcularMediaMuertes(datos_TLR) {
    const muertesPorPais = {};
    datos_TLR.forEach((dato) => {
      const pais = dato.geo;
      const muertes = dato.cars_deaths;
      if (!muertesPorPais[pais]) {
        muertesPorPais[pais] = { totalMuertes: 0, conteo: 0 };
      }
      muertesPorPais[pais].totalMuertes += muertes;
      muertesPorPais[pais].conteo++;
    });
  
    const mediaMuertesPorPais = {};
    for (const pais in muertesPorPais) {
      const totalMuertes = muertesPorPais[pais].totalMuertes;
      const conteo = muertesPorPais[pais].conteo;
      mediaMuertesPorPais[pais] = totalMuertes / conteo;
    }
  
    return mediaMuertesPorPais;
  }
  
  const mediaMuertes = calcularMediaMuertes(datos_TLR);
  //console.log(mediaMuertes);
  
